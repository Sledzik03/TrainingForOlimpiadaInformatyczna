Python - Metoda poÅ‚owienia - charakterystyka i zastosowanie

wtorek, 2 listopada 2021
18:36

Metoda poÅ‚owienia przedziaÅ‚u (zwana metodÄ… bisekcji) opiera siÄ™ na wyborze wyrazu Å›rodkowego i podziale danego przedziaÅ‚u na dwie czÄ™Å›ci rozgraniczone tym wyrazem. NastÄ™pnie jest sprawdzane, czy wyraz Å›rodkowy speÅ‚nia okreÅ›lone warunki, i na tej podstawie wybierana jest odpowiednia czÄ™Å›Ä‡ przedziaÅ‚u do dalszych obliczeÅ„.


3.1. Przeszukiwanie ciÄ…gu liczbowego


RozwiÄ…zanie problemu przeszukiwania ciÄ…gu liczbowego polega na znalezieniu w ciÄ…gu liczbowym wyrazu speÅ‚niajÄ…cego konkretne warunki. DokÅ‚adnie to okreÅ›la specyfikacja podana poniÅ¼ej.
Specyfikacja:
Dane:
liczba naturalna: n>0 (liczba elementÃ³w listy 1T);
n-elementowa lista zawierajÄ…ca liczby caÅ‚kowite: T[0...n - 1];
liczba caÅ‚kowita: szukana (wartoÅ›Ä‡ elementu szukanego w liÅ›cie T).
Wynik:
jeÅ›li szukana wartoÅ›Ä‡ znajduje siÄ™ w liÅ›cie T, wynikiem jest numer znalezionego elementu, w przeciwnym razie -1. Przeanalizujmy dwa przypadki:
	â€¢ przeszukiwanie ciÄ…gu liczbowego, ktÃ³ry nie jest uporzÄ…dkowany, 
	â€¢ przeszukiwanie ciÄ…gu liczbowego, ktÃ³ry jest uporzÄ…dkowany.


Ä†wiczenie 3.1.
Algorytm przeszukiwania jest stosowany na rÃ³Å¼nych zbiorach zawierajÄ…cych informacje. Zgromadzone dane mogÄ… byÄ‡ uporzÄ…dkowane (np. w sÅ‚owniku, encyklopedii) lub nieuporzÄ…dkowane (np. w podrÄ™czniku, dlatego zaÅ‚Ä…cza siÄ™ indeks). Podaj inne przykÅ‚ady uporzÄ…dkowanych i nieuporzÄ…dkowanych zbiorÃ³w informacji.


Liniowe przeszukiwanie ciÄ…gu liczbowego
Liniowa metoda przeszukiwania ciÄ…gu liczbowego jest stosowana, gdy nie wiadomo, czy dany ciÄ…g jest uporzÄ…dkowany. W takiej sytuacji jesteÅ›my zmuszeni do sprawdzenia wszystkich jego wyrazÃ³w.

Skonstruujmy algorytm w postaci schematu blokowego (rysunek 3.1) i programu w jÄ™zyku Python realizujÄ…cy liniowe przeszukiwanie ciÄ…gu liczbowego.


Rysunek 3.1. Schemat blokowy algorytmu realizujÄ…cego liniowe przeszukiwanie ciÄ…gu liczbowego

Program w jÄ™zyku Python:

def szukaj(T, szukana): 
   n = len(T) 
   for i in range(n):
      if T[i] == szukana:
         return i
   return -1 
print(szukaj ( [7, 5, 6, 4, 5, 3, 4, 8, 2, 3], 8))
print (szukaj ([9, 5, 6, 4, 5, 3, 4, 8, 2, 31], 1))

Wyniki:
7
-1


OperacjÄ… dominujÄ…cÄ… w tym algorytmie jest porÃ³wnanie. W najgorszym przypadku, gdy szukany element nie znajduje siÄ™ w LiÅ›cie, podczas przeglÄ…dania ciÄ…gu wykonywanych jest n takich dziaÅ‚aÅ„. W sytuacji, gdy pierwszy sprawdzany element ciÄ…gu bÄ™dzie rÃ³wny szukanemu, wykonamy tylko jedno porÃ³wnanie. Liczba operacji dominujÄ…cych moÅ¼e wiÄ™c wynosiÄ‡ od 1 do n, dlatego zÅ‚oÅ¼onoÅ›Ä‡ czasowa tego algorytmu jest liniowa n.

Zadanie 3.1
Napisz programy wykorzystujÄ…ce algorytm liniowego przeszukiwania ciÄ…gu liczbowego, ktÃ³re bÄ™dÄ… wykonywaÄ‡:

a) sprawdzenie, czy w n-elementowej liÅ›cie zawierajÄ…cej liczby rzeczywiste wprowadzone z klawiatury znajduje siÄ™ liczba rÃ³Å¼na od 15,125,
b) sprawdzenie, czy w 11-elementowej liÅ›cie zawierajÄ…cej liczby caÅ‚kowite wprowadzone w programie znajduje siÄ™ liczba parzysta,
c) sprawdzenie, czy w 14-elementowej liÅ›cie zawierajÄ…cej liczby rzeczywiste wprowadzone w programie znajduje siÄ™ liczba wiÄ™ksza od 5,67,
d) sprawdzenie, czy w n-elementowej liÅ›cie zawierajÄ…cej liczby caÅ‚kowite wprowadzone z klawiatury znajduje siÄ™ liczba mniejsza od 10.

Wynikiem dziaÅ‚ania programÃ³w powinien byÄ‡ komunikat TAK lub NIE.


Binarne przeszukiwanie ciÄ…gu liczbowego

W przypadku, gdy ciÄ…g liczbowy jest posortowany, aby uzyskaÄ‡ rozwiÄ…zanie, wystarczy przejrzeÄ‡ tylko wybrane wyrazy tego ciÄ…gu. Dla ciÄ…gu uporzÄ…dkowanego moÅ¼emy zastosowaÄ‡ algorytm przeszukiwania binarnego, ktÃ³ry opiera siÄ™ na metodzie poÅ‚owienia przedziaÅ‚u. W danym n-wyrazowym ciÄ…gu liczbowym wyznaczamy wyraz Å›rodkowy i porÃ³wnujemy go z szukanÄ… liczbÄ…. JeÅ›li obie wartoÅ›ci sÄ… rÃ³wne, to szukany element zostaÅ‚ znaleziony, moÅ¼emy wiÄ™c zakoÅ„czyÄ‡ algorytm. JeÅ›li natomiast wyraz Å›rodkowy jest wiÄ™kszy od szukanej liczby, naleÅ¼y kontynuowaÄ‡ poszukiwania, ale juÅ¼ tylko wÅ›rÃ³d tych wyrazÃ³w ciÄ…gu, ktÃ³re majÄ… niÅ¼szy indeks niÅ¼ wyraz Å›rodkowy. W przeciwnym razie, gdy jest on mniejszy od podanej wartoÅ›ci, szukamy go wÅ›rÃ³d wyrazÃ³w ciÄ…gu, ktÃ³re majÄ… wiÄ™ksze numery. Przeszukiwany ciÄ…g w kaÅ¼dym kolejnym kroku zmniejsza siÄ™ o poÅ‚owÄ™.

PrzykÅ‚ad 3.1.
Przeanalizujmy przebieg algorytmu dla ciÄ…gu liczbowego (2, 3, 4, 5, 7, 9, 10, 12, 14) i szukanej wartoÅ›ci rÃ³wnej 5.

Indeksy	0	1	2	3	4	5	6	7	8
Krok 1.	2	3	4	5	7	9	10	12	14
Krok 2.	2	3	4	5					
Krok 3.			4	5					
Krok 4.				5					


Pogrubieniem wyrÃ³Å¼niono wyznaczony w danym kroku wyraz Å›rodkowy, a szarym tÅ‚em - podciÄ…g, w ktÃ³rym kontynuowane bÄ™dÄ… poszukiwania elementu. Aby wyznaczyÄ‡ wyraz Å›rodkowy, naleÅ¼y zsumowaÄ‡ indeksy pierwszego i ostatniego wyrazu przeszukiwanego ciÄ…gu liczbowego, a nastÄ™pnie wykonaÄ‡ dzielenie caÅ‚kowite przez 2. Wynikiem jest indeks wyrazu Å›rodkowego. SprawdÅº, czy wyrazy Å›rodkowe zostaÅ‚y wyznaczone poprawnie.

W przedstawionym przykÅ‚adzie dobrano taki ciÄ…g liczbowy, aby szukany element, znajdujÄ…cy siÄ™ w liÅ›cie, zostaÅ‚ znaleziony dopiero po dojÅ›ciu do podciÄ…gu jednowyrazowego. Wynikiem jest 3, czyli indeks wyrazu ciÄ…gu o wartoÅ›ci 5.

PrzykÅ‚ad 3.2.
Przeanalizujmy przebieg algorytmu dla ciÄ…gu liczbowego (-8, -7, -6,-2;0, 2, 3, 4, 5, 7, 8,10, 12, 14, 17, 19) i szukanej wartoÅ›ci rÃ³wnej 14.

Indeksy	0	1	2	3	4	5	6	7	8	9	10	11	12	13	14	15
Krok 1.	-8	-7	-6	-2	0	2	3	4	5	7	8	10	12	14	17	19
Krok 2.									5	7	8	10	12	14	17	19
Krok 3.													12	14	17	19


Pogrubieniem wyrÃ³Å¼niono wyznaczony wyraz Å›rodkowy, a szarym tÅ‚em podciÄ…g, w ktÃ³rym kontynuowane bÄ™dÄ… poszukiwania elementu.

W przedstawionym przykÅ‚adzie dobrano taki ciÄ…g liczbowy, aby szukany wyraz Å›rodkowy, znajdujÄ…cy siÄ™ w liÅ›cie, zostaÅ‚ znaleziony przed dojÅ›ciem do podciÄ…gu jednowyrazowego. Gdy Å›rodkowy wyraz jest rÃ³wny szukanej liczbie, algorytm zostaje zakoÅ„czony, a wynikiem jest indeks znalezionego elementu w ciÄ…gu liczbowym. W tym przykÅ‚adzie wynikiem jest 13, czyli indeks wyrazu ciÄ…gu, ktÃ³ry ma wartoÅ›Ä‡ 14.

Skonstruujmy algorytm rekurencyjny realizujÄ…cy przeszukiwanie binarne ciÄ…gu uporzÄ…dkowanego w postaci programu w jÄ™zyku Python.

Program w jÄ™zyku Python:
def szukaj (T, lewy, prawy, szukana):
  if lewy <= prawy:
    srodek = (lewy + prawy) // 2
    if T[srodek] == szukana:
       return srodek
    if T[srodek] < szukana:
       return szukaj(T, srodek + 1, prawy, szukana)
    return szukaj(T, lewy, srodek - 1, szukana)
  return -1
print(szukaj ([ -8, -7, -6, -2, 0, 2, 3, 4, 5, 7, 8, 10, 12, 14, 17, 19],0, 15, 14))

Wynik:
13


Ä†wiczenie 3.2
Na podstawie kodu programu przeanalizuj przebieg algorytmu. Odpowiedz na pytania i wskaÅ¼ odpowiednie miejsca w kodzie programu.
a) Czy algorytm koÅ„czy siÄ™ w przypadku, gdy wyraz Å›rodkowy jest rÃ³wny szukanej liczbie?
b) Czy w przypadku gdy w przeszukiwanym ciÄ…gu nie ma szukanej liczby, wypisywany jest komunikat NIE?
c) Jakie obliczenie trzeba wykonaÄ‡, aby zostaÅ‚ wyznaczony wyraz Å›rodkowy?
d) W jaki sposÃ³b wyznaczane sÄ… kolejne podciÄ…gi do przeszukiwania?

Algorytm realizujÄ…cy liniowe przeszukiwanie nieuporzÄ…dkowanego ciÄ…gu liczbowego, omÃ³wiony w tym podrozdziale, ma zÅ‚oÅ¼onoÅ›Ä‡ liniowÄ… n. W przedstawionym powyÅ¼ej algorytmie przeszukiwania binarnego korzystamy z metody poÅ‚owienia przedziaÅ‚Ã³w, powinniÅ›my wiÄ™c uzyskaÄ‡ szybszy algorytm. Liczba porÃ³wnaÅ„ jest tutaj proporcjonalna do liczby podziaÅ‚Ã³w przeszukiwanego ciÄ…gu. ZaÅ‚Ã³Å¼my, Å¼e mamy n-wyrazowy ciÄ…g. JeÅ¼eli szukana liczba znajduje siÄ™ w ciÄ…gu, dzielimy ciÄ…g co najwyÅ¼ej do uzyskania jednego wyrazu, natomiast jeÅ¼eli szukanej liczby nie ma w ciÄ…gu, algorytm jest realizowany, aÅ¼ dojdzie do jednowyrazowego podciÄ…gu. Maksymalnie wykonywanych jest log2 ğŸ‘ operacji dzielenia
ciÄ…gu. Otrzymujemy zatem zÅ‚oÅ¼onoÅ›Ä‡ logarytmicznÄ… log n.

Ä†wiczenie 3.3
Przedstaw przebieg algorytmu realizujÄ…cego przeszukiwanie binarne dla podanych ciÄ…gÃ³w liczbowych (podobnie jak w przykÅ‚adach 3.1 i 3.2). SzukanÄ… liczbÄ… jest 6.
a) (1,2, 3, 4, 5, 6, 7, 8, 9, 10),
b) (1, 1,2, 4, 7, 8, 8, 9, 9),
c)(0, 1,2, 4, 6, 7, 7, 8, 8, 10).


Zadanie 3.2.
Skonstruuj algorytm iteracyjny w postaci schematu blokowego i programu realizujÄ…cy przeszukiwanie binarne uporzÄ…dkowanego n-wyrazowego ciÄ…gu liczbowego. Liczba wyrazÃ³w ciÄ…gu n, przeszukiwany ciÄ…g oraz szukana liczba powinny byÄ‡ wprowadzane z klawiatury.


Zadanie 3.3.
Podaj specyfikacjÄ™ zadania i napisz program realizujÄ…cy wstawianie liczby wprowadzone z klawiatury do uporzÄ…dkowanego ciÄ…gu liczbowego w takie miejsce, aby po wstawieniu ciÄ…g nadal byÅ‚ uporzÄ…dkowany. Algorytm powinien wyznaczaÄ‡ pozycjÄ™ wstawienia liczby do uporzÄ…dkowanego ciÄ…gu. Do wstawiania moÅ¼esz wykorzystaÄ‡ metodÄ™ insert().




ZADANIE domowe
Zad 3.1 b i c 
Zad. 3.2

########################### z lekcji ################################################

# Schemat blokowy za pomocÄ… pÄ™tli for (rys. 3.1)


def szukaj(T, szukana):
n = len(T)
for i in range(n):
if T[i] == szukana:
return i
return -1
print(szukaj ( [7, 5, 6, 4, 5, 3, 4, 8, 2, 3], 8))
print (szukaj ([9, 5, 6, 4, 5, 3, 4, 8, 2, 31], 1))


# Zad. PowyÅ¼szy algorytm wykonaj za pomocÄ… pÄ™tli while na podstawie schematu blokowego (rys. 3.1)
def szukaj2(T, szukana):
n = len(T)
i = 0
while i < n:
if T[i] == szukana:
return i
i = i + 1
return -1


print(szukaj2 ( [7, 5, 6, 4, 5, 3, 4, 8, 2, 3], 8))
print (szukaj2 ([9, 5, 6, 4, 5, 3, 4, 8, 2, 31], 1))



# # Zad. 3.1
# a) sprawdzenie, czy w n-elementowej liÅ›cie zawierajÄ…cej liczby rzeczywiste wprowadzone z klawiatury znajduje siÄ™ liczba rÃ³Å¼na od 15,125, 


def szukaj(T, szukana):
n = int(input("Poaj liczbÄ™ elementÃ³w listy: "))
T=[]
for i in range(n):
element = float(input("WprowadÅº rzczywistÄ…: "))
T.append(element)
for i in range(n):
if T[i] != szukana:
return "TAK"
return "NIE"
print(szukaj ( [7, 5, 6, 4, 5, 3, 4, 8, 2, 3], 15.125))
print (szukaj ([15.125, 15.125], 15.125))




# a)
def szukaj(T, szukana):
n = len(T)
for i in range(n):
if T[i] != szukana:
return "TAK"
return "NIE"


print(szukaj ( [7, 5, 6, 4, 5, 3, 4, 8, 2, 3], 15.125))
print (szukaj ([15.125, 15.125], 15.125))




# b)
def szukaj():
T = []
n = int(input("Podaj iloÅ›Ä‡ elementÃ³w listy: "))
for i in range(n):
element = float(input("WprowadÅº wartoÅ›Ä‡: "))
T.append(element)
# print(T)
for i in range(n):
if T[i] % 2 == 0:
return "TAK"
return "NIE"
print(szukaj())




# PrzykÅ‚ad 3.2
def szukaj (T, lewy, prawy, szukana):
if lewy <= prawy:
srodek = (lewy + prawy) // 2
if T[srodek] == szukana:
return srodek
if T[srodek] < szukana:
return szukaj(T, srodek + 1, prawy, szukana)
return szukaj(T, lewy, srodek - 1, szukana)
return -1
print(szukaj ([ -8, -7, -6, -2, 0, 2, 3, 4, 5, 7, 8, 10, 12, 14, 17, 19],0, 15, 14))